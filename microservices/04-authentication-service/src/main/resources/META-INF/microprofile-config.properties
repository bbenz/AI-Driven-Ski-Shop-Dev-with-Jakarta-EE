# Authentication Service Configuration - MicroProfile JWT準拠

# Server Configuration
server.host=0.0.0.0
server.port=8083

# MicroProfile JWT Configuration
mp.jwt.verify.issuer=https://ski-equipment-shop.com
mp.jwt.verify.audiences=ski-equipment-shop
mp.jwt.verify.publickey.location=META-INF/jwt-public-key.pem
mp.jwt.verify.algorithm=RS256
mp.jwt.verify.clock.skew=30
mp.jwt.verify.require.iss=true
mp.jwt.verify.require.aud=true

# SmallRye JWT Build Configuration (MicroProfile JWT 2.1)
smallrye.jwt.sign.key.location=META-INF/jwt-rs256-private-key.pem
smallrye.jwt.new-token.signature-algorithm=RS256
smallrye.jwt.new-token.issuer=https://ski-equipment-shop.com
smallrye.jwt.new-token.audience=ski-equipment-shop
smallrye.jwt.new-token.lifespan=900
smallrye.jwt.new-token.add-default-claims=true

# JWT Token Configuration
jwt.access-token.expiration=PT15M
jwt.refresh-token.expiration=P7D

# Database Configuration
datasource.url=jdbc:postgresql://localhost:5432/ski_resort_auth
datasource.username=auth_user
datasource.password=auth_password
datasource.driver=org.postgresql.Driver

# JPA Configuration
jpa.hibernate.ddl-auto=update
jpa.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
jpa.show-sql=false
jpa.format-sql=true

# Connection Pool Configuration
datasource.pool.initial-size=5
datasource.pool.max-size=20
datasource.pool.min-idle=5

# Password Security Configuration
password.bcrypt.rounds=12
password.min.length=8
password.max.length=128

# Session Configuration
session.timeout.minutes=30
session.remember-me.days=7
session.max-concurrent=3

# Rate Limiting Configuration
rate-limit.login.attempts=5
rate-limit.login.window.minutes=15
rate-limit.password-reset.attempts=3
rate-limit.password-reset.window.hours=1

# Security Configuration
security.csrf.enabled=true
security.xss.protection=true
security.frame.options=DENY
security.content.type.options=nosniff

# Email Configuration (for password reset, etc.)
email.smtp.host=localhost
email.smtp.port=587
email.smtp.username=auth@ski-resort.com
email.smtp.password=email_password
email.smtp.auth=true
email.smtp.starttls.enable=true

# Logging Configuration
logging.level.root=INFO
logging.level.com.skiresort.auth=DEBUG
logging.level.org.hibernate.SQL=DEBUG

# Health Check Configuration
health.check.enabled=true
health.check.timeout.seconds=5

# Metrics Configuration
metrics.enabled=true
metrics.endpoint=/metrics

# OpenAPI Configuration
openapi.title=Ski Resort Authentication Service
openapi.version=1.0.0
openapi.description=Authentication and authorization service for Ski Resort Management System
